# Floating Cart Bar Widget

## نظرة عامة

شريط السلة العائم (`FloatingCartBar`) هو ويدجت يظهر في أسفل صفحة المتجر عندما تكون هناك منتجات في السلة. يوفر للمستخدمين طريقة سريعة لمراجعة محتويات سلة التسوق والانتقال إليها.

## المميزات

✅ **عرض تلقائي**: يظهر فقط عندما تكون هناك منتجات في السلة
✅ **معلومات السلة**: يعرض إجمالي المبلغ وعدد المنتجات
✅ **تصميم جذاب**: تصميم برتقالي مع ظلال وتأثيرات
✅ **تفاعل سهل**: نقرة واحدة للانتقال إلى صفحة السلة
✅ **تحديث فوري**: يتحدث تلقائياً عند تغيير محتويات السلة

## كيفية الاستخدام

### 1. إضافة الودجت إلى صفحة المتجر

```dart
import 'package:bazar_suez/markets/home_market/widgets/floating_cart_bar.dart';

// في build method
Stack(
  children: [
    // محتوى الصفحة
    YourPageContent(),
    
    // شريط السلة العائم
    const FloatingCartBar(),
  ],
)
```

### 2. التكامل مع CartViewModel

الودجت يستخدم `Consumer<CartViewModel>` لتلقي التحديثات التلقائية:

```dart
Consumer<CartViewModel>(
  builder: (context, cartViewModel, child) {
    // يتم تحديث الواجهة تلقائياً عند تغيير السلة
    return FloatingCartBar();
  },
)
```

## التصميم والخصائص

### المظهر
- **اللون**: برتقالي (AppColors.mainColor)
- **الشكل**: مستطيل مع حواف دائرية من الأعلى
- **الظلال**: ظل ناعم أسفل الشريط
- **الموضع**: أسفل الصفحة مع مسافات من الحواف

### المحتوى
- **النص الرئيسي**: "اطلع على سلتك"
- **السعر**: إجمالي المبلغ بالجنيه المصري
- **عداد المنتجات**: عدد العناصر في دائرة بيضاء

### التفاعل
- **اللمس**: يؤدي إلى الانتقال إلى صفحة السلة
- **تأثيرات**: تأثيرات لمس مع ألوان شفافة

## الكود المصدري

```dart
class FloatingCartBar extends StatelessWidget {
  const FloatingCartBar({super.key});

  @override
  Widget build(BuildContext context) {
    return Consumer<CartViewModel>(
      builder: (context, cartViewModel, child) {
        // إخفاء الشريط إذا كانت السلة فارغة
        if (cartViewModel.isEmpty) {
          return const SizedBox.shrink();
        }

        return Positioned(
          bottom: 0,
          left: 0,
          right: 0,
          child: Container(
            // تصميم الشريط
          ),
        );
      },
    );
  }
}
```

## المتطلبات

- **CartViewModel**: يجب أن يكون متاحاً في شجرة الويدجت
- **Provider**: لربط الودجت بـ CartViewModel
- **GoRouter**: للانتقال إلى صفحة السلة

## التحسينات المستقبلية

- [ ] إضافة رسوم متحركة للظهور والاختفاء
- [ ] إضافة مؤشر تحميل أثناء التحديث
- [ ] إضافة إشعارات صوتية عند إضافة منتجات
- [ ] دعم تغيير الألوان حسب المتجر
- [ ] إضافة معلومات إضافية مثل وقت التوصيل المتوقع

## ملاحظات التطوير

- الودجت يستخدم `Positioned` لذلك يجب وضعه داخل `Stack`
- يستخدم `Consumer` لضمان التحديث التلقائي
- يحترم إعدادات التصميم الحالية للتطبيق
- متوافق مع نظام التنقل الموجود (GoRouter)
